define("ajax.shared",["require","exports"],function(n,t){function r(n){var r=keyMap[n]?keyMap[n]:keyMap.Prefix+n,i=document.getElementById(r),t;return!i&&document.getElementsByClassName&&(t=document.getElementsByClassName(r),i=t&&t.length?t[0]:null),i}function u(n){var f=sj_ce("a"),t,r,u;return f.href=n,t=f.pathname,t[0]!=="/"&&(t="/"+t),t=t.replace(i,"/"),r="",t==="/"?r=t:(u=n.indexOf(t),r=u>-1?n.substr(u):""),r}function f(n,t,i){for(;n&&n!==document;n=n.parentNode){if(n[t]===i)return n;if(n===undefined)break}}var i=/^(\/)(\1+)/;t.getPlaceholder=r;t.getRelativeUrl=u;t.getParentContainer=f});define("ajax.maskBase",["require","exports"],function(n,t){function e(n){var t=document.createElement("style"),i;t.setAttribute("data-rms","1");document.body.appendChild(t);i="#"+u+n;i+="a,a *{-ms-touch-action:manipulation;touch-action:manipulation}";t.textContent!==undefined?t.textContent=i:t.styleSheet&&(t.styleSheet.cssText+=i)}function r(){return i=document.getElementById(u),i?!0:!1}function o(){var l=n("ajax.instant"),f,v,c,e;if(l&&l.enabled||h(),f=document.getElementById(keyMap.Content),f){var t=f.getBoundingClientRect(),o=t.width?Math.abs(t.right-t.left):t.width,a=s(f,"paddingLeft");o=o-(a?parseInt(a):0);v=t.height?Math.abs(t.bottom-t.top):t.height;c="px";r()||(i=document.createElement("div"),i.setAttribute("id",u));i.style.height=v+c;i.style.width=o+c;e=f.childNodes;e&&e.length&&f.insertBefore(i,e[0])}}function s(n,t){var i;if(window.getComputedStyle)i=getComputedStyle(n,null);else if(n.currentStyle)i=n.currentStyle;else return null;return i[t]}function h(){var n=f.getPlaceholder("AutoSug"),t=f.getPlaceholder("header");n&&t&&(n.style.display="none",t.className="")}function c(){r()&&i.parentNode.removeChild(i)}function l(n){if(r())for(var t in n)i.style[t]=n[t]}function a(){return r()}function v(){try{window.scrollTo(0,0)}catch(n){}}var y=n("event.custom"),f=n("ajax.shared"),u="ajaxMaskLayer",i;t.addAjaxStyles=e;t.addMask=o;t.removeMask=c;t.updateMask=l;t.hasMask=a;t.scrollToTop=v});define("ajax.noMask",["require","exports","ajax.maskBase"],function(n,t,i){function u(){i.addAjaxStyles("{position:absolute;background-color:white;opacity:0;z-index:-1}");r.unbind("onP1",u)}var r=n("event.custom");r=typeof r=="undefined"?window.sj_evt:r;r.bind("onP1",u,!0);r.bind("ajax.requestSent",i.addMask);r.bind("ajax.firstChunkEnd",function(){i.updateMask({zIndex:"10"})});r.bind("ajax.load",function(){i.scrollToTop()})});define("ajax.history",["require","exports"],function(n,t){function o(n){history.pushState(u,u,n)}function s(n){history.replaceState(u,u,n)}function h(){var n=_w.location,t=n.href,i=t.indexOf(e),u;i>=0?(u=t.substr(i),r.fire("ajax.state",u)):n.pathname===f&&_w.sj_lc(f)}var r=n("event.custom"),i;r=typeof r=="undefined"?sj_evt:r;i=n("event.native");i=typeof i=="undefined"?sj_ue:i;var e="/search",f="/",u=null;t.pushState=o;t.replaceState=s;i.bind(_w,"popstate",h,!1)});_w.keyMap={Content:"b_content",SearchForm:"sb_form",SBoxId:"sb_form_q",Notification:"b_notificationContainer",Identity:"id_h",Prefix:"b_",RmsDefer:"aRmsDefer",RmsKeys:["rms:answers:Shared:BingCore.Bundle","rms:answers:AjaxSerp:Ajax.Bundle","rms:answers:BoxModel:Framework"],AutoSug:"sa_as",FeaturePersist:1,LangSwitch:"langChange",ASContainer:"sw_as",Result:"b_results"};define("ajax.framework.mask.ajaxww.conv",["require","exports"],function(n){function fr(n){var i,r,u=n&&n.length>1?n[1]:null,e=n&&n.length>2?n[2]:!1,f=_ge("serpHeader"),t;keyMap.IsHP&&f?(t=f.getElementsByTagName("form"),t.length>0&&t[0].id===keyMap.SearchForm&&(r=t[0])):r=_d.getElementById(keyMap.SearchForm);yt.test(u)&&(i=ei(u)+nu(r));i&&(g=u,_w._isConvAjaxUpdated=!0,ct(i,9,!0,e))}function dt(){var t="onpopstate"in _w&&_w.history&&_w.history.pushState,r,n,u;if(e||(e=tt.get("_SS","SID"),vt="jsonv2"),_w.keyMap&&_w.JSON&&document.getElementsByClassName&&e&&t&&a){if(wi=tt.get("SRCHHPGUSR","AS"),gt(),it.bind(document,"keydown",function(n){n.keyCode===27&&a.preventDefault(n)}),document.querySelectorAll)for(r=document.querySelectorAll("script[data-ajaxResKey]"),n=0;n<r.length;n++)st[r[n].getAttribute("data-ajaxResKey")]=!0;_w.sj_isAjax=!0;_w._isConvAjaxUpdated=!1;i.fire("ajaxReady")}t&&e||(u=t?"":"History NA",u+=e?"":"SID NA",sj_log("CI.Ajax","H5Support",u),nt());i.unbind("onP1",dt)}function gt(){var t,n,r;if(i.bind("ErrorInstrumentation",function(){nt()}),i.bind("LayoutError",function(){nt()}),i.bind("ConvModeNavigate",fr),keyMap.IsHP)for(t=document.getElementsByTagName("form"),n=0;n<t.length;n++)t[n].id==="sb_form";else r=document.getElementById("sb_form"),r}function nt(){}function sr(n,t,i,r){var u,f,e;i!==bt&&(bt=i);for(u in n)if(u==="Script")for(f=0;f<n[u].length;f++)e=n[u][f],ni(t,u,i,e,r);else ni(t,u,i,n[u],r)}function ni(n,t,i,r,u){hr(n,t,i,r,u)}function hr(n,t,f,e,o){var y,l,b,a,v,c;if(f===p)switch(t){case"Script":e.Method==="reference"?h.includeScriptReference(e.Content):e.Method==="referenceOnce"?(y=e.Key,st[y]||(h.includeScriptReference(e.Content),st[y]=!0)):h.includeScript(e.Content);break;case"Style":kr();h.getCssHolder().innerHTML+="<div><\/div>"+e;break;case"IG":_G.IG=e;break;case"Title":wt.innerHTML=e;document.title=wt.innerText;break;case"EOS":cr(f,o);break;case"HBop":c=document.createElement("div");document.getElementById(keyMap.Content).appendChild(c);c.outerHTML=e;s.push(t);break;case"RmsDefer":case"EmbDivs":l=u.getPlaceholder(t);l||(l=document.createElement("div"),document.body.appendChild(l));l.outerHTML=e;break;case"Content":keyMap.FeaturePersist&&r?(b=document.createDocumentFragment(),c=document.createElement("div"),b.appendChild(c),c.innerHTML=e,a=b.querySelector("#persistent"+r.getAttribute(d)),a?a.parentNode.replaceChild(r,a):i.reset(null,ii(),!0),v=u.getPlaceholder(t),v&&(v.parentNode.replaceChild(c.firstChild,v),s.push(t)),i.fire("ajax.persist")):ti(t,e);i.fire("ajax.contentEnd");k!==null&&(sb_ct(k),k=null);break;case"EOC":e==="1"&&i.fire("ajax.firstChunkEnd");break;case"Keys":et=e;break;case"LangSwitch":case"MarketSwitch":c=document.createElement("div");document.body.appendChild(c);c.outerHTML=e;s.push(t);break;case"EOM":case"Url":if(w)break;default:ti(t,e)}}function cr(n,i){if(t){var r=t.onload,u=sb_st(function(){ht(n,i);t.onload=function(){t&&t.remove&&t.remove()}},1e3);t.onload=function(){sb_ct(u);ht(n,i);r&&r();t&&t.remove&&t.remove()}}else ht(n,i)}function ht(n,r){u.ajaxPerf&&(l.performance=t&&t.contentWindow&&t.contentWindow.performance);r&&uu();ot=!1;i.bind("onPP",function(){return ot=!0});lr();gt();dr();br(n);w&&iu();y.setTimeout(function(){return pr()},1)}function ti(n,t){var i=u.getPlaceholder(n);i?(i.outerHTML=t,s.push(n)):w&&(i=document.createElement("div"),document.body.appendChild(i),i.outerHTML=t,s.push(n))}function lr(){_G.PPS=!1;try{_G.BPT=new Date;_w.lb&&lb();var n=t&&t.contentWindow,i=u.ajaxPerf?l.performance:n&&n.performance,r=i&&i.timing;si_PP(new Date,"L",r?r:v)}catch(f){si_PP(new Date)}}function ar(){i.fire("unload");i.fire("ajax.unload");ki=!1;y.clear();a.forEach(hi,function(n){if(window.hasOwnProperty(n)){window[n]=v;try{delete window[n]}catch(t){}}});a.forEach(ci,function(n){for(var i,r=document.getElementsByClassName(n),t=0;t<r.length;t++)i=r[t],i.parentNode.removeChild(i)});yr();ru();i.reset(vr(),ii());oi.reset();s=[];et=[]}function vr(){var t=null,u=r?r.getAttribute("data-ajax-cetp"):"",i,n;if(u)for(t={},i=u.split(","),n=0;n<i.length;n++)t[i[n]]="";return t}function ii(){return(c==o.Answer||c==o.History)&&r?r.getAttribute("data-ajax-pocetp"):""}function yr(){window.Bing&&Bing.hasOwnProperty("MapControl")&&(Bing.MapControl=v,delete Bing.MapControl);window.$MapsNamespace&&window.hasOwnProperty($MapsNamespace)&&(window[$MapsNamespace]=v,delete window[$MapsNamespace]);window.Microsoft&&window.Microsoft.Maps&&window.Microsoft.Maps.ResourceManager&&(window.Microsoft.Maps.ResourceManager=v,delete window.Microsoft.Maps.ResourceManager)}function pr(){u.ajaxPerf?i.fire("ajax.load",l):i.fire("ajax.load");i.fire("onHTML");ot||i.fire("onPP");i.fire("onP1Lazy");u.ajaxPerf?i.fire("ajax.postload",l):i.fire("ajax.postload");l={}}function ct(n,t,i,r){i===void 0&&(i=!1);r===void 0&&(r=!1);f=di;try{if(window.performance&&performance.now&&!i&&performance.now()>vi){lt(n,"PageExpired",f,t);return}p=n;c=t;ut=!0;ar();f=gi;wr(n,t,i,r)}catch(e){var o=f===ir&&!document.getElementById(b)?!1:!0,u=""+e;o?lt(n,u,f,t):ri(u,f)}}function wr(n,r,u,o){var h,a,v,p,w;ft.indexOf(n)===-1&&(t&&t.parentNode&&(t.onload=null,t.parentNode.removeChild(t),t=null),l.fromCache=!1,h=window.AjaxCB.length,f=nr,ft.push(n),a=tt.get("_SS","SID"),a&&(e=a),v=n+(u?"&convswitchupdate=1":"")+(o?"&ajaxserpfromncp=1":"")+(n.indexOf("&sid=")===-1?"&sid="+e:"")+"&format="+vt+"&jsoncbid="+h,t=document.createElement("iframe"),t.style.display="none",document.body.appendChild(t),window.AjaxCB.push(function(t){sr(t,h,n,u)}),bi=new Date,p=function(t,i,r){return function(){var u,f;r?(u=_ge(b),u&&u.parentElement&&u.parentElement.removeChild(u)):document.getElementById(b)&&(f="RK:"+s.join(",")+" SK:"+et.join(",")+" U:"+escape(v),lt(n,"FailedRequest",t,i,f))}},t.onload=p(kt,c,u),w=window.location.protocol+"//"+window.location.host+v,t.src=w,k=y.setTimeout(p(rr,c,u),li),f=tr,i.fire("ajax.requestSent",n))}function lt(n,i,r,u,f){ri(i,r,f);n=n+ur+r;var e="assign";u===o.History&&(e="replace");p="";t&&(t.onload=null);y.setTimeout(function(){return window.location[e](n)},ai)}function ri(n,t,i){if(t<kt&&typeof onerror=="function")window.onerror(n,"Ajax.Bundle",t);else{var r="Ajax";i&&(r+='","Meta":"'+i);sj_log("CI.AjaxSerpError",r,n+t);nt()}}function br(n){c!==o.History&&(w?(_w.history.replaceState({ajaxserp:!0},"",n),typeof _w.SydFSCHelper!="undefined"&&(_w._currentRoute={state:_w.history.state,href:_w.location.href,search:_w.location.search})):(_w.history.replaceState({ajaxserp:!0,inConvMode:!0},"",u.getRelativeUrl(n).replace("&showconv=1","")+"&showconv=1"),typeof _w.SydFSCHelper!="undefined"&&(_w._currentRoute={state:_w.history.state,href:_w.location.href,search:_w.location.search}),_w.history.pushState({ajaxserp:!0},"",n),typeof _w.SydFSCHelper!="undefined"&&(_w._currentRoute={state:_w.history.state,href:_w.location.href,search:_w.location.search})));ft=[]}function ui(n,t){return typeof n!="undefined"?n:t}function kr(){var n,i,t;ut&&(n=h.getCssHolder(),n.id="ajaxStylesBackup",i=h.getCssHolder(),t=n.nextSibling,t&&n.parentNode.insertBefore(i,t),ut=!1)}function dr(){var n=document.getElementById("ajaxStylesBackup");n&&n.parentNode.removeChild(n)}function ei(n){return rt+"?q="+encodeURIComponent(n)}function gr(n){for(var r="",i=n.getElementsByTagName("input"),t=0;t<i.length;t++)i[t].type==="hidden"&&(r+="&"+i[t].name+"="+encodeURIComponent(i[t].value));return r}function nu(n){for(var r,u="",i=n.getElementsByTagName("input"),t=0;t<i.length;t++)i[t].type==="hidden"&&i[t].name!="form"&&(u+="&"+i[t].name+"="+encodeURIComponent(i[t].value));return r=_w._isConvAutoHide?"ATCVAJ":"CONVAJ",si&&_w._ncpformCode&&(r=_w._ncpformCode),u+"&form="+r}function at(n){var t=tu();t&&(a.preventDefault(n),ct(t,o.AS))}function tu(){var u,n,t,f=_ge("serpHeader"),i,r;return keyMap.IsHP&&f?(i=f.getElementsByTagName("form"),i.length>0&&i[0].id===keyMap.SearchForm&&(n=i[0],r=n.getElementsByClassName("b_searchbox"),r.length>0&&r[0].id===keyMap.SBoxId&&(t=r[0].value))):(n=_d.getElementById(keyMap.SearchForm),t=_d.getElementById(keyMap.SBoxId).value),yt.test(t)&&(u=ei(t)+gr(n)),u}function iu(){var n=_ge("noSerp"),t="initSerp";if(n){if(Lib.CssClass.contains(n,t)){n.remove();return}Lib.CssClass.add(n,t)}}function ru(){var n=document.getElementById(keyMap.Notification),t;n&&(n.parentNode.removeChild(n),t=document.getElementById("id_h"),t&&(t.style.top="0"))}function uu(){var n=_ge("sb_form_q"),t=_ge(b);n&&g&&!t&&(n.innerText=g,n.value=g)}var tt=n("cookies"),h=n("dom"),y=n("env"),i=n("event.custom");i=i||window.sj_evt;var it=n("event.native"),a=n("shared"),oi=n("rmsajax"),u=n("ajax.shared"),t=null,r,rt="/search",e=_G.SID,vt="snrjson",ut=!1,o={Click:1,History:2,AS:3,Answer:8},c=o.Click,p=u.getRelativeUrl(window.location.href),w=_w._sydConvConfig?ui(_w._sydConvConfig.enableBingChatPath,!1):!1,si=_w._sydConvConfig?ui(_w._sydConvConfig.enableDynamicFormCode,!1):!1,ft=[],s=[],et=[],hi=["Bnp","RMS_IACL","sched","TP","bepns","Identity","initComCtrl","ccal","ccal_bundle","expitem","si_sendCReq"],ci=["bubblePlaceholder","irhc","vrhc"],b="ajaxMaskLayer",v,k=null,li=2e4,ai=30,vi=864e5,yi=/(&|%26)sid(=|%3d)\w+(&|%26)format(=|%3d)(jsonv2|snrjson)(&|%26)jsoncbid(=|%3d)\d+/gm,pi=/((&|%26)ajax(=|%3d)\w+(&|%26)axID(=|%3d)\w+)|((&|%26)pIG(=|%3d)\w+)|((&|%26)axNID(=|%3d)(\w|[,.])+)/gm,yt=/\S/,wi,pt=0,wt=sj_ce("textarea"),ot,bt,bi=si_ST,d="data-ajax",f,ki=!1,di=10,gi=20,nr=30,tr=40,ir=50,kt=60,rr=70,ur="&ajf=",st={},l={},g;i&&i.bind("onP1",dt,!0);typeof AjaxCB=="undefined"&&(window.AjaxCB=[])})