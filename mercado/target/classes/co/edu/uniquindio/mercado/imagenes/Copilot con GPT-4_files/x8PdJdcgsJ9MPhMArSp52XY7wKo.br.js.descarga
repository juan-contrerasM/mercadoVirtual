var GPTHomeScreen;(function(n){function hi(n){var i,u,t,f,e;if(n&&(t=(i=n.shadowRoot)===null||i===void 0?void 0:i.querySelector("cib-conversation"),t)&&(f=(u=t.shadowRoot)===null||u===void 0?void 0:u.querySelector(g),f)&&ri){if(ei)if(oi)sj_evt.bind("showSydFSC",function(){r||(SydFSCHelper.setFreeSydneyData(),r=!0)},!0);else CIB.onModeChanging(function(n){n!=="conversation"||r||(SydFSCHelper.setFreeSydneyData(),r=!0)});else SydFSCHelper.setFreeSydneyData();if(nt&&!tt&&(e=ot(),e||(k(n),rt=!0)),(CIB===null||CIB===void 0?void 0:CIB.onFreeSydneyPersonaChanged)&&!tt){CIB.onFreeSydneyPersonaChanged(function(i){if(nt&&it&&rt&&(!i||i.type==="Copilot")){it=!1;return}ft();ui&&(i&&i.id!=="copilot"?(CIB.config.features.enablePrivacyProtectedConversation||(CIB.config.features.enablePrivacyProtectedConversation=!0),CIB.setPrivacyForConversation(!0)):(CIB.config.features.enablePrivacyProtectedConversation=fi,CIB.setPrivacyForConversation(!1)));i&&i.type!=="Copilot"?st(n,f,t,i):k(n)});sj_evt.bind("renderWsSlot",ci,!0)}}}function ft(){var n,t=document.getElementById("b_sydWelcomeTemplate_");t&&((n=t.parentNode)===null||n===void 0?void 0:n.removeChild(t))}function ci(n){var t=n[1],i=n.length>2?n[2]:d;et(t,p,i)}function et(n,t,i,r){var f,e,u,o;if((r===void 0&&(r=0),!(r>3))&&(u=(f=n.shadowRoot)===null||f===void 0?void 0:f.querySelector("cib-conversation"),u)){if(o=(e=u.shadowRoot)===null||e===void 0?void 0:e.querySelector(g),!o){setTimeout(function(){et(n,t,i,r+1)},12);return}ht(o,u,t,i)}}function ot(){try{var n=new URLSearchParams(_w.location.search),t=n.get("gptId");if(t)return!0}catch(i){}return!1}function k(n){sj_evt.fire("cib_init",n);li();u&&lt(u)}function li(){sj_evt.fire("lazyLdImg");sj_evt.fire("loadProgImages");sj_evt.fire("RMS.LoadImg")}function st(n,i,r,u){var f,e,o;u.type!=="Custom"||u.welcomeTiles&&((f=u.welcomeTiles)===null||f===void 0?void 0:f.length)!==0||(u.welcomeTiles=FreeSydneyHelper.getDefaultCustomWelcomeTiles());e=function(){return u.welcomeTiles};o=u.welcomeTiles?function(){return Promise.resolve(u.welcomeTiles)}:null;t&&ut===(u===null||u===void 0?void 0:u.id)||(t=vi(u),SydWelcomeScreenBase.setTileContainer(t,!1,o,e));ut=u===null||u===void 0?void 0:u.id;t&&(ai(n),ht(i,r,p,d))}function ai(n){(t===null||t===void 0?void 0:t.id.slice(-1))!=="_"&&(t.id=t.getAttribute("id")+"_");t===null||t===void 0?void 0:t.setAttribute("slot",p);n.appendChild(t)}function ht(n,t,i,r){var u=n.querySelector("slot[name=".concat(r)),f;u||(u=SydWelcomeScreenBase.createSlot(r),n.prepend(u));f=t.querySelector("slot[name=".concat(i));f||(f=SydWelcomeScreenBase.createSlot(i,u),t.append(f),t.removeAttribute("empty"))}function vi(n){var o,f=sj_ce(i,at,vt),u,r,c,l,a;f.setAttribute(yt,"2");var e=sj_ce(i,null,pt),s=sj_ce(i,null,bt),h=(o=n.type)===null||o===void 0?void 0:o.toLowerCase(),t=sj_ce(i,null,wt+" "+h);return si&&(n===null||n===void 0?void 0:n.icon)&&(t.style.content="url(".concat(n.icon,")")),t.setAttribute("role","img"),t.setAttribute("alt",h),t.setAttribute("aria-label",h+" Logo"),t.setAttribute("tab-index","0"),u=sj_ce(i,null,kt),u.innerHTML=ct(n.displayName||n.name),u.setAttribute("role","heading"),u.setAttribute("aria-level","2"),r=sj_ce(i,null,dt),r.innerHTML=ct(n.welcomeHeader||n.description||""),r.setAttribute("role","heading"),r.setAttribute("aria-level","2"),s.appendChild(t),s.appendChild(u),e.appendChild(s),r.innerHTML&&e.appendChild(r),c=n.type!=="Custom"?ti:n.authorName,l=sj_ce(i,null,gt),l.innerHTML=w===null||w===void 0?void 0:w.replace("{0}",c),e.appendChild(l),lt(b===null||b===void 0?void 0:b.replace("{0}",c)),a=sj_ce(i,null,ni),f.appendChild(e),f.appendChild(a),f}function ct(n){if(n)return n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function lt(n){var r=_d.querySelector("cib-serp"),t,i,f;(r===null||r===void 0?void 0:r.shadowRoot)&&(t=r.shadowRoot.querySelector("cib-conversation"),(t===null||t===void 0?void 0:t.shadowRoot)&&(i=t.shadowRoot.querySelector("cib-welcome-container"),(i===null||i===void 0?void 0:i.shadowRoot)&&(f=i.shadowRoot.querySelector(ii),f&&(u||(u=f.innerHTML),f.innerHTML=n))))}var f,e,o,s,h,c,l,a,v,y,at="b_sydWelcomeTemplate",vt="b_wlcmCont",i="div",p="wlcmCntnr",d="wlcmCntnrChld",yt="data-priority",pt="b_wlcmHdr",wt="b_wlcmPersLogo",bt="b_wlcmPersLogoCont",kt="b_wlcmPersName",dt="b_wlcmPersDesc",gt="b_wlcmPersAuthorText",ni="b_wlcmTileCont",ti="Microsoft",ii=".preview-container .preview-disclaimer .disclaimer span",ri=SydFSCHelper.getConfigOrDefault((f=_w._sydConvConfig)===null||f===void 0?void 0:f.enableFreeSydney,!1),ui=SydFSCHelper.getConfigOrDefault((e=_w._sydConvConfig)===null||e===void 0?void 0:e.enableFreeSydneyPrivacy,!1),fi=SydFSCHelper.getConfigOrDefault((o=_w._sydConvConfig)===null||o===void 0?void 0:o.enablePrivacyProtectedConversation,!1),ei=SydFSCHelper.getConfigOrDefault((s=_w._sydConvConfig)===null||s===void 0?void 0:s.enableDelayGet1PGpts,!1),oi=SydFSCHelper.getConfigOrDefault((h=_w._sydConvConfig)===null||h===void 0?void 0:h.enablePanelTransition,!1),g="#cib-chat-main",w=(c=_w._sydConvTranslation)===null||c===void 0?void 0:c.freeSydneyWelcomeAuthorText,b=(l=_w._sydConvTranslation)===null||l===void 0?void 0:l.sydneyGptCreatorWelcomeMessage,nt=SydFSCHelper.getConfigOrDefault((a=_w._sydConvConfig)===null||a===void 0?void 0:a.enable1pGPTPreLoadForCopilot,!0),si=SydFSCHelper.getConfigOrDefault((v=_w._sydConvConfig)===null||v===void 0?void 0:v.enable1pGptsApi,!1),tt=SydFSCHelper.getConfigOrDefault((y=_w._sydConvConfig)===null||y===void 0?void 0:y.enableSimplifiedFRE,!1),it=!0,rt=!1,r=!1,ut,t,u;n.attachPersonaChangeEvents=hi;n.removeLastWelcomeContainer=ft;n.isGPTIdInUrlParams=ot;n.renderCopilotPage=k;n.setWelcomeScreenContentForFreeSydney=st})(GPTHomeScreen||(GPTHomeScreen={}))